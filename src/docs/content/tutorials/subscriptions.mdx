---
title: "Subscription Payments Tutorial"
description: "Setting up subcription payments using Stripe."
onThisPage:
  - title: "Overview"
    href: "#overview"
related:
  - title: "Stripe Setup"
    href: "/docs/features/payments"
  - title: "Pricing"
    href: "/docs/landing/pricing"
  - title: "CheckoutButton"
    href: "/docs/components/checkout-button"
  - title: "AccountCard"
    href: "/docs/components/auth/account-card"
sites:
  - title: "Stripe"
    href: "https://stripe.com"
---

<div id="overview" />

<Caution>
    Make sure you have [Stripe](/docs/features/payments) set up first and have you have created the `profiles` table with
    `handle_new_user` function (see [Database](/docs/tutorials/database#profiles) tutorial).
</Caution>

1. Set up [Stripe](/docs/features/payments).

2. Set up [Auth](/docs/tutorials/authentication) and [profiles table](/docs/features/db#profiles) (ensure you have the `handle_new_user` function to create Stripe customers on sign up).

3. By default, the landing page will now show a [`Pricing`](/docs/landing/pricing) component. Place or modify this however you like:

    ```js
    import Pricing from "@/components/landing/Pricing";
    <Pricing />
    ```

    Or simply use the [`CheckoutButton`](/docs/components/checkout-button) component to create a checkout button for your product.

    ```js
    import CheckoutButton from "@/components/payments/CheckoutButton";
    <CheckoutButton
      mode="subscription"
      priceId="price_1N..."
    >
        Subscribe Now
    </CheckoutButton>
    ```

4. Our webhook `api/webhooks/stripe` listens to [Stripe](https://stripe.com) events and automatically handles updating the user's access in the database.

    <Info>
        We've created a `customerId` for each user and use `has_access`, `price_id`, etc. in the [**profiles table**](/docs/tutorials/database#profiles) to track the user's subscription status.
    </Info>

5. Add your own logic to `webhookHandlers.js` or `subscriptionHandlers.js`, like sending abandoned checkout emails, etc.

6. Use the [`AccountCard`](/docs/components/auth/account-card) component to let users manage their subscription.

    ```js
    import AccountCard from "@/components/auth/AccountCard";
    <AccountCard />
    ```

<br />

And you're done!

<Tip>
    Remember to test everything in Test mode before going to Live mode. You can use the test card number 4242 4242 4242 4242 for a successful payment.
</Tip>



