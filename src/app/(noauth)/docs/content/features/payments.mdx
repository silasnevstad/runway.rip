---
title: "Stripe Payments Overview"
description: "An overview of the Stripe payment system in this boilerplate, covering one-time payments, subscriptions, tax handling, and webhook events."
onThisPage:
  - title: "Overview"
    href: "#overview"
  - title: "One-Time Payments"
    href: "#one-time-payments"
  - title: "Subscriptions"
    href: "#subscriptions"
  - title: "Tax Handling"
    href: "#tax-handling"
  - title: "Webhook Event Handling"
    href: "#webhook-event-handling"
  - title: "Security & Best Practices"
    href: "#security-best-practices"
---

<div id="overview" />

<Divider />

This boilerplate comes with a full Stripe integration that’s designed to be optimal, modular, and production‑ready. Whether you need to accept one‑time payments or manage subscriptions, everything is pre-configured with tax handling, webhook event processing, and secure practices.

## One-Time Payments

<div id="one-time-payments" />

For single payments, a Checkout Session is created in “payment” mode. Your customers will be redirected to a secure, Stripe‑hosted payment page.

```jsx
// Creating a one-time Checkout Session:
await createCheckoutSession({
planType: "starter",
mode: "payment",
successUrl: "https://your-app.com/thank-you",
cancelUrl: "https://your-app.com/",
});
```

<Info>
    The Checkout Session automatically enables tax calculation, so you don’t need to worry about handling taxes manually.
</Info>

## Subscriptions

<div id="subscriptions" />

Subscriptions work similarly—simply set the mode to “subscription” and the same session logic applies.

```jsx
// Creating a subscription Checkout Session:
await createCheckoutSession({
planType: "pro",
mode: "subscription",
successUrl: "https://your-app.com/thank-you",
cancelUrl: "https://your-app.com/",
});
```

This setup allows you to handle recurring billing without additional complexity.

## Tax Handling

<div id="tax-handling" />

Stripe Checkout includes automatic tax calculation when you enable it in the session. The boilerplate sets `automatic_tax: { enabled: true }` so tax is computed based on the customer’s location.

<InlineHighlight>
    Tip: If you need advanced tax reporting, refer to Stripe Tax documentation and adjust your dashboard settings accordingly.
</InlineHighlight>

## Webhook Event Handling

<div id="webhook-event-handling" />

Webhooks are critical for processing asynchronous payment events. The webhook endpoint in this boilerplate listens for events such as:
- **checkout.session.completed**: When a payment or subscription is successfully completed.
- **checkout.session.expired**: When a session expires.
- **invoice.payment_failed** and **invoice.payment_succeeded**: To track invoice outcomes.

```jsx
// Example webhook processing:
await handleStripeWebhookEvent(event);
```

<Info>
    Customize event handlers in libs/stripe/webhookHandlers.js to fit your business logic.
</Info>

## Security & Best Practices

<div id="security-best-practices" />

<Tip>
    Store your Stripe API keys and webhook secret in environment variables. Never expose them in client-side code.
</Tip>

<Caution>
    Always verify webhook signatures to ensure events are truly from Stripe.
</Caution>

<Warning>
    Double-check your success and cancel URLs in production to avoid misdirected payments.
</Warning>

<Divider />

This complete payment system lets you focus on building your app while I’ve done the heavy lifting on Stripe integration.
